region: us-east-1
cloud_config: config/cloud-config.example
key_pair: YOUR-KEY
instances_count: 1
coreos_channel: stable
coreos_version: current
instance_type: c4.2xlarge
allocate_ip_address: no

volumes:
  -
    device_name: /dev/xvdb
    ebs:
        volume_size: 100
        volume_type: gp2
        delete_on_termination: yes

  -
    device_name: /dev/xvde
    virtual_name: ephemeral0

security_groups:
  -
    name: spark
    action: find_or_create
    authorize_ingress:
      -
        IpProtocol: tcp
        FromPort: 8080
        ToPort: 8080
        CidrIp: 0.0.0.0/0
      -
        IpProtocol: tcp
        FromPort: 4040
        ToPort: 4040
        CidrIp: 0.0.0.0/0

  -
    name: $cluster_name
    action: create
    authorize_ingress:
      -
        SourceSecurityGroupName: $cluster_name
      -
        IpProtocol: tcp
        FromPort: 22
        ToPort: 22
        CidrIp: 0.0.0.0/0